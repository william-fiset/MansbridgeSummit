//
//  MSRegisterModelTest.swift
//  MansbridgeSummit
//
//  Created by William Fiset on 2015-07-16.
//  Copyright Â© 2015 Mansbridge Summit Dev Team. All rights reserved.
//

import XCTest

class MSRegisterModelTest: XCTestCase {

    let minimalPostParameters = [
            "EktronClientManager" : "-1759591071,1948574407,-1028355414,-1388997516,2009761168,27274999,1979897163,-422906301,-1818005853,646551512,-1228755533,561009152,1762586108,1881432062,1080084488,-1562465382",
            "__VIEWSTATE" : "/wEPDwUKLTk0NjYyMjkwOQ9kFgJmD2QWBgICD2QWAmYPFgIeBFRleHQF5DwNCjxoZWFkZXIgY2xhc3M9InBhZ2UtaGVhZGVyIj4NCiAgPGRpdiBjbGFzcz0icm93Ij4NCiAgICA8ZGl2IGNsYXNzPSJjb2wtc20tMTIiPg0KICAgICAgICA8aDEgY2xhc3M9Im10YS1sb2dvIj4NCiAgICAgICAgICAgIDxhIGhyZWY9Ii8iPjxpbWcgc3JjPSIvY29udGVudC9pbWFnZXMvbXRhLWxvZ28tc21hbGwuc3ZnIiBhbHQ9Ik1vdW50IEFsbGlzb24gVW5pdmVyc2l0eSIgb25lcnJvcj0idGhpcy5vbmVycm9yID0gbnVsbDsgdGhpcy5zcmMgPSAnL2NvbnRlbnQvaW1hZ2VzL210YS1sb2dvLXNtYWxsLnBuZyc7IiBkYXRhLXNyYy1zbWFsbD0iL2NvbnRlbnQvaW1hZ2VzL210YS1sb2dvLXNtYWxsLnN2ZyIgZGF0YS1zcmMtbGFyZ2U9Ii9jb250ZW50L2ltYWdlcy9tdGEtbG9nby5zdmciPjwvYT4NCiAgICAgICAgPC9oMT4NCiAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0ibmF2LXRvZ2dsZSI+U2hvdy9IaWRlIE5hdmlnYXRpb248L2J1dHRvbj4NCiAgICAgIDxuYXYgY2xhc3M9Imdsb2JhbC1uYXYiPg0KICAgICAgICA8dWwgaWQ9Im5hdiI+DQogICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJtZW51LWl0ZW0iPg0KICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIvUHJvc3BlY3RpdmUvRGVmYXVsdC5hc3B4Ij5Qcm9zcGVjdGl2ZSBTdHVkZW50czwvYT4NCiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJzdWJuYXYtdG9nZ2xlIj5TaG93L0hpZGUgU3ViLW1lbnU8L2J1dHRvbj4NCiAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzPSJzdWItbWVudSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj0iL2Fib3V0Ij5BYm91dDwvYT48L2xpPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9Ii9hY2FkZW1pY3MiPkFjYWRlbWljczwvYT48L2xpPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9Ii9hZG1pc3Npb25zIj5BZG1pc3Npb25zPC9hPjwvbGk+DQogICAgICAgICAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj0iL3N0dWRlbnRsaWZlIj5TdHVkZW50IExpZmU8L2E+PC9saT4NCiAgICAgICAgICAgICAgICAgICAgPC91bD4NCiAgICAgICAgICAgICAgICA8L2xpPg0KICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ibWVudS1pdGVtIj4NCiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iL3N0dWRlbnRzIj5DdXJyZW50IFN0dWRlbnRzPC9hPg0KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9InN1Ym5hdi10b2dnbGUiPlNob3cvSGlkZSBTdWItbWVudTwvYnV0dG9uPg0KICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3M9InN1Yi1tZW51Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPSIvY29tbXVuaXR5L2FjYWRlbWljcy8iPkFjYWRlbWljIGRlcGFydG1lbnRzPC9hPjwvbGk+DQogICAgICAgICAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj0iL3JlZ2lzdHJhciI+UmVnaXN0cmFyJiMzOTtzIE9mZmljZTwvYT48L2xpPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9Ii9Db21tdW5pdHkvQ2FtcHVzX2xpZmUvQ2FtcHVzX2xpZmUiPkNhbXB1cyBMaWZlPC9hPjwvbGk+DQogICAgICAgICAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj0iL0NvbW11bml0eS9TdHVkZW50X3NlcnZpY2VzL1N0dWRlbnRfc2VydmljZXMvIj5TdHVkZW50IFNlcnZpY2VzPC9hPjwvbGk+DQogICAgICAgICAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj0iL2hvdXNpbmciPkhvdXNpbmc8L2E+PC9saT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPSIvaW50ZXJuYXRpb25hbC8iPkludGVybmF0aW9uYWwgQ2VudHJlPC9hPjwvbGk+DQogICAgICAgICAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj0iaHR0cDovL2xpYnJhcnlndWlkZXMubXRhLmNhL21haW4iPkxpYnJhcmllcyAmYW1wOyBBcmNoaXZlczwvYT48L2xpPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9Ii9Db21tdW5pdHkvRXZlbnRzLmFzcHgiPkV2ZW50cyBjYWxlbmRhcjwvYT48L2xpPg0KICAgICAgICAgICAgICAgICAgICA8L3VsPg0KICAgICAgICAgICAgICAgIDwvbGk+DQogICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJtZW51LWl0ZW0iPg0KICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIvZmFjdWx0eXN0YWZmLyI+RmFjdWx0eSAmYW1wOyBTdGFmZjwvYT4NCiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJzdWJuYXYtdG9nZ2xlIj5TaG93L0hpZGUgU3ViLW1lbnU8L2J1dHRvbj4NCiAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzPSJzdWItbWVudSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj0iL0NvbW11bml0eS9BY2FkZW1pY3MvQWNhZGVtaWNzLyI+QWNhZGVtaWMgZGVwYXJ0bWVudHM8L2E+PC9saT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPSIvcGN0Yy8iPlB1cmR5IENyYXdmb3JkIFRlYWNoaW5nIENlbnRyZTwvYT48L2xpPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9Ii9Db21tdW5pdHkvQWRtaW5pc3RyYXRpdmVfZGVwYXJ0bWVudHMvQWRtaW5pc3RyYXRpdmVfZGVwYXJ0bWVudHMvIj5BZG1pbmlzdHJhdGl2ZSBkZXBhcnRtZW50czwvYT48L2xpPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9Ii9Db21tdW5pdHkvUmVzZWFyY2hfYW5kX2NyZWF0aXZlL1Jlc2VhcmNoX19fY3JlYXRpdmUvIj5SZXNlYXJjaCAmYW1wOyBjcmVhdGl2ZSBhY3Rpdml0eTwvYT48L2xpPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9Ii9Db21tdW5pdHkvR292ZXJuYW5jZV9hbmRfYWRtaW4vR292ZXJuYW5jZV9fX2FkbWluLyI+R292ZXJuYW5jZSAmYW1wOyBhZG1pbmlzdHJhdGlvbjwvYT48L2xpPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9Ii9Db21tdW5pdHkvR292ZXJuYW5jZV9hbmRfYWRtaW4vUG9saWNpZXNfYW5kX3Byb2NlZHVyZXMvUG9saWNpZXNfX19wcm9jZWR1cmVzLyI+UG9saWNpZXMgJmFtcDsgcHJvY2VkdXJlczwvYT48L2xpPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9Ii9Db21tdW5pdHkvQ2FtcHVzX2xpZmUvQ2FtcHVzX2xpZmUvIj5DYW1wdXMgbGlmZTwvYT48L2xpPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9Ii9Db21tdW5pdHkvQWRtaW5pc3RyYXRpdmVfZGVwYXJ0bWVudHMvRGV2ZWxvcG1lbnRfT2ZmaWNlL0RldmVsb3BtZW50LyI+R2l2aW5nIHRvIE1vdW50IEFsbGlzb248L2E+PC9saT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPSJodHRwOi8vbGlicmFyeWd1aWRlcy5tdGEuY2EvbWFpbiI+TGlicmFyaWVzICZhbXA7IEFyY2hpdmVzPC9hPjwvbGk+DQogICAgICAgICAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj0iL0NvbW11bml0eS9FdmVudHMuYXNweCI+RXZlbnRzIGNhbGVuZGFyPC9hPjwvbGk+DQogICAgICAgICAgICAgICAgICAgIDwvdWw+DQogICAgICAgICAgICAgICAgPC9saT4NCiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9Im1lbnUtaXRlbSI+DQogICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9Ii9hbHVtbmkvZGVmYXVsdC5hc3B4Ij5BbHVtbmk8L2E+DQogICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0ic3VibmF2LXRvZ2dsZSI+U2hvdy9IaWRlIFN1Yi1tZW51PC9idXR0b24+DQogICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzcz0ic3ViLW1lbnUiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9Ii9BbHVtbmkvQ29ubmVjdC9Db25uZWN0LyI+Q29ubmVjdDwvYT48L2xpPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9Ii9BbHVtbmkvU3RheV9JbmZvcm1lZC9TdGF5X0luZm9ybWVkLyI+U3RheSBpbmZvcm1lZDwvYT48L2xpPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9Ii9BbHVtbmkvR2V0X0ludm9sdmVkL0dldF9JbnZvbHZlZC8iPkdldCBpbnZvbHZlZDwvYT48L2xpPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9Ii9BbHVtbmkvQ29taW5nX2JhY2svQ29taW5nX0JhY2svIj5Db21pbmcgYmFjazwvYT48L2xpPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9Ii9hbHVtbmkvc2VydmljZXNfYW5kX2JlbmVmaXRzL3NlcnZpY2VzX19fYmVuZWZpdHMvIj5TZXJ2aWNlICZhbXA7IGJlbmVmaXRzPC9hPjwvbGk+DQogICAgICAgICAgICAgICAgICAgIDwvdWw+DQogICAgICAgICAgICAgICAgPC9saT4NCiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9Im1lbnUtaXRlbSI+DQogICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9Ii92aXNpdG9ycyI+VmlzaXRvcnM8L2E+DQogICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0ic3VibmF2LXRvZ2dsZSI+U2hvdy9IaWRlIFN1Yi1tZW51PC9idXR0b24+DQogICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzcz0ic3ViLW1lbnUiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9Ii9Db21tdW5pdHkvVmlzaXRvcnMvQWJvdXRfTW91bnRfQWxsaXNvbi9BYm91dF9Nb3VudF9BbGxpc29uLyI+QWJvdXQgTW91bnQgQWxsaXNvbjwvYT48L2xpPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9Ii9tdGFtYXAvIj5DYW1wdXMgbWFwPC9hPjwvbGk+DQogICAgICAgICAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj0iL2NvbmZlcmVuY2VzLyI+Q29uZmVyZW5jZSAmYW1wOyBFdmVudCBTZXJ2aWNlczwvYT48L2xpPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9Ii9Db21tdW5pdHkvVmlzaXRvcnMvVGhpbmdzX3RvX2RvX2FuZF9zZWUvVGhpbmdzX3RvX2RvX19fc2VlLyI+VGhpbmdzIHRvIGRvICZhbXA7IHNlZTwvYT48L2xpPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9Ii9zdW1tZXIvIj5TdW1tZXIgY2FtcHM8L2E+PC9saT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPSIvZW1wbG95bWVudC8iPkVtcGxveW1lbnQgb3Bwb3J0dW5pdGllczwvYT48L2xpPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9Ii9Db21tdW5pdHkvQWRtaW5pc3RyYXRpdmVfZGVwYXJ0bWVudHMvRmluYW5jaWFsX1NlcnZpY2VzL0NvbnRyYWN0b3JzX2FuZF92ZW5kb3JzL0NvbnRyYWN0b3JzX19fdmVuZG9ycy8iPkNvbnRyYWN0b3JzICZhbXA7IHZlbmRvcnM8L2E+PC9saT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPSIvQ29tbXVuaXR5L0FkbWluaXN0cmF0aXZlX2RlcGFydG1lbnRzL01hcmtldGluZ19hbmRfQ29tbXVuaWNhdGlvbnNfT2ZmaWNlL01lZGlhL01lZGlhLyI+TWVkaWE8L2E+PC9saT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPSIvY29udGFjdC8iPkNvbnRhY3QgdXM8L2E+PC9saT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPSIvQ29tbXVuaXR5L0dvdmVybmFuY2VfYW5kX2FkbWluL0dvdmVybmFuY2VfX19hZG1pbi8iPkdvdmVybmFuY2UgJmFtcDsgYWRtaW5pc3RyYXRpb248L2E+PC9saT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPSIvQ29tbXVuaXR5L0FkbWluaXN0cmF0aXZlX2RlcGFydG1lbnRzL0RldmVsb3BtZW50X09mZmljZS9EZXZlbG9wbWVudC8iPkdpdmluZyB0byBNb3VudCBBbGxpc29uPC9hPjwvbGk+DQogICAgICAgICAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj0iaHR0cDovL2xpYnJhcnlndWlkZXMubXRhLmNhL21haW4vIj5MaWJyYXJpZXMgJmFtcDsgQXJjaGl2ZXM8L2E+PC9saT4NCiAgICAgICAgICAgICAgICAgICAgPC91bD4NCiAgICAgICAgICAgICAgICA8L2xpPg0KICAgICAgICA8L3VsPg0KICAgICAgPC9uYXY+DQoNCiAgICAgIDxkaXYgY2xhc3M9InRvb2wtYm94Ij4NCiAgICAgICAgPGRpdiBjbGFzcz0iZ2xvYmFsLXNlYXJjaCI+DQogICAgICAgICAgPGlucHV0IG5hbWU9InNlYXJjaF9ib3giIGlkPSJzZWFyY2hfYm94IiB0eXBlPSJzZWFyY2giIHBsYWNlaG9sZGVyPSJTZWFyY2giPg0KICAgICAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0IiBjbGFzcz0iZ2xvYmFsLXNlYXJjaC10cmlnZ2VyIj5TZWFyY2g8L2J1dHRvbj4NCiAgICAgICAgPC9kaXY+DQogICAgICAgIDxkaXYgY2xhc3M9Imdsb2JhbC1zb2NpYWwiPg0KICAgICAgICAgICAgICAgIDxhIGhyZWY9Imh0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS9tb3VudGFsbGlzb24iIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0iRmFjZWJvb2siPjxpIGNsYXNzPSJpY29uLXNvY2lhbCBmYWNlYm9vayI+PC9pPjwvYT4gICANCiAgICAgICAgICAgICAgICA8YSBocmVmPSJodHRwczovL3R3aXR0ZXIuY29tL21vdW50YWxsaXNvbiIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSJUd2l0dGVyIj48aSBjbGFzcz0iaWNvbi1zb2NpYWwgdHdpdHRlciI+PC9pPjwvYT4gICANCiAgICAgICAgICAgICAgICA8YSBocmVmPSJodHRwczovL3d3dy55b3V0dWJlLmNvbS91c2VyL21vdW50YWxsaXNvbiIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSJZb3VUdWJlIj48aSBjbGFzcz0iaWNvbi1zb2NpYWwgeW91dHViZSI+PC9pPjwvYT4gICANCiAgICAgICAgICAgICAgICA8YSBocmVmPSJodHRwOi8vaW5zdGFncmFtLmNvbS9tb3VudGFsbGlzb24iIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0iSW5zdGFncmFtIj48aSBjbGFzcz0iaWNvbi1zb2NpYWwgaW5zdGFncmFtIj48L2k+PC9hPiAgIA0KICAgICAgICAgICAgICAgIDxhIGhyZWY9Imh0dHBzOi8vd3d3LmxpbmtlZGluLmNvbS9lZHUvc2Nob29sP2lkPTEwODE3JmFtcDt0cms9ZWR1LXVwLW5hdi1tZW51LWhvbWUiIHRhcmdldD0iX2JsYW5rIiB0aXRsZT0iTGlua2VkaW4iPjxpIGNsYXNzPSJpY29uLXNvY2lhbCBsaW5rZWRpbiI+PC9pPjwvYT4gICANCiAgICAgICAgPC9kaXY+DQogICAgICA8L2Rpdj4NCg0KICAgICAgPGRpdiBjbGFzcz0iZXh0ZXJuYWwtbmF2Ij4NCiAgICAgICAgPHVsPg0KICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPSJodHRwOi8vd3d3Lm10YS5jYS9jYWxlbmRhciI+QWNhZGVtaWMgQ2FsZW5kYXI8L2E+PC9saT4NCiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj0iaHR0cHM6Ly93ZWJtYWlsLm10YS5jYS8iPldlYm1haWw8L2E+PC9saT4NCiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj0iaHR0cDovL2Nvbm5lY3QubXRhLmNhLyI+Q29ubmVjdEBNVEE8L2E+PC9saT4NCiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj0iaHR0cDovL21vb2RsZS5tdGEuY2EvIj5Nb29kbGU8L2E+PC9saT4NCiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj0iL0NvbW11bml0eS9BZG1pbmlzdHJhdGl2ZV9kZXBhcnRtZW50cy9GYWNpbGl0aWVzX01hbmFnZW1lbnQvQm9va2luZy9Cb29raW5nLyI+Qm9vayBpdDwvYT48L2xpPg0KICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPSJodHRwOi8vd3d3Lm10YS5jYS9waG9uZWJvb2siPlBob25lIEJvb2s8L2E+PC9saT4NCiAgICAgICAgPC91bD4NCiAgICAgIDwvZGl2Pg0KICAgIDwvZGl2PiA8IS0tIC9jb2wtc20tMTIgLS0+DQogIDwvZGl2PiA8IS0tIC9yb3cgLS0+DQo8L2hlYWRlcj48IS0tIC8ucGFnZS1oZWFkZXIgLS0+ZAIDD2QWBAIBDw8WAh8ABSJNYW5zYnJpZGdlIFN1bW1pdCBhcHBsaWNhdGlvbiBmb3JtZGQCBRAWAh4Ib25zdWJtaXQFhAFyZXR1cm4gKCd1bmRlZmluZWQnID09IHR5cGVvZiBFa3Ryb24gfHwgIUVrdHJvbi5Gb3JtQmxvY2sgfHwgIXR5cGVvZiBFa3Ryb24uRm9ybUJsb2NrLnZhbGlkYXRlICB8fCBFa3Ryb24uRm9ybUJsb2NrLnZhbGlkYXRlKHRoaXMpKTtkZAIED2QWAmYPFgIfAAXHDDwhLS0gcGFnZS1mb290ZXIgLS0+DQogICAgPGZvb3RlciBjbGFzcz0icGFnZS1mb290ZXIiPg0KDQogICAgICA8ZGl2IGNsYXNzPSJyb3cgcGFnZS1mb290ZXItbG93ZXIiPg0KICAgICAgICA8ZGl2IGNsYXNzPSJjb2wtc20tNiI+DQogICAgICAgICAgPGRpdiBjbGFzcz0iZm9vdGVyLWFkZHJlc3MiPg0KICAgICAgICAgICAgPGFkZHJlc3M+DQogICAgICAgICAgICAgIE1vdW50IEFsbGlzb24gVW5pdmVyc2l0eTxicj4NCiAgICAgICAgICAgICAgPGEgaHJlZj0iaHR0cDovL3NhY2t2aWxsZS5jb20vIiB0YXJnZXQ9Il9ibGFuayI+U2Fja3ZpbGxlLCBOZXcgQnJ1bnN3aWNrPC9hPjxicj4NCiAgICAgICAgICAgICAgQ2FuYWRhIEU0TCAxRTQNCiAgICAgICAgICAgIDwvYWRkcmVzcz4NCiAgICAgICAgICAgIDxwPg0KICAgICAgICAgICAgICA8YSBocmVmPSIvbWFwIj5DYW1wdXMgTWFwczwvYT4gLyA8YSBocmVmPSIvY29udGFjdCI+Q29udGFjdCBVczwvYT48YnI+DQogICAgICAgICAgICAgIDxhIGhyZWY9Im1haWx0bzp3ZWJtYXN0ZXJAbXRhLmNhIj5XZWJzaXRlIGNvbW1lbnRzPC9hPg0KICAgICAgICAgICAgPC9wPg0KICAgICAgICAgIDwvZGl2Pg0KICAgICAgICA8L2Rpdj4NCiAgICAgICAgPGRpdiBjbGFzcz0iY29sLXNtLTYgaGlkZGVuLXhzIj4NCiAgICAgICAgICA8YSBocmVmPSIvZGV2ZWxvcG1lbnQvIiBjbGFzcz0iZm9vdGVyLWdpdmUtbm93IGZsYWctd2hpdGUtbGVmdCI+R2l2ZSBOb3c8L2E+DQogICAgICAgICAgPGRpdiBjbGFzcz0iZ2xvYmFsLXNvY2lhbCI+DQogICAgICAgICAgICAgICAgPGEgaHJlZj0iaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL21vdW50YWxsaXNvbiIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSJGYWNlYm9vayI+PGkgY2xhc3M9Imljb24tc29jaWFsIGZhY2Vib29rIj48L2k+PC9hPiAgIA0KICAgICAgICAgICAgICAgIDxhIGhyZWY9Imh0dHBzOi8vdHdpdHRlci5jb20vbW91bnRhbGxpc29uIiB0YXJnZXQ9Il9ibGFuayIgdGl0bGU9IlR3aXR0ZXIiPjxpIGNsYXNzPSJpY29uLXNvY2lhbCB0d2l0dGVyIj48L2k+PC9hPiAgIA0KICAgICAgICAgICAgICAgIDxhIGhyZWY9Imh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL3VzZXIvbW91bnRhbGxpc29uIiB0YXJnZXQ9Il9ibGFuayIgdGl0bGU9IllvdVR1YmUiPjxpIGNsYXNzPSJpY29uLXNvY2lhbCB5b3V0dWJlIj48L2k+PC9hPiAgIA0KICAgICAgICAgICAgICAgIDxhIGhyZWY9Imh0dHA6Ly9pbnN0YWdyYW0uY29tL21vdW50YWxsaXNvbiIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSJJbnN0YWdyYW0iPjxpIGNsYXNzPSJpY29uLXNvY2lhbCBpbnN0YWdyYW0iPjwvaT48L2E+ICAgDQogICAgICAgICAgICAgICAgPGEgaHJlZj0iaHR0cHM6Ly93d3cubGlua2VkaW4uY29tL2VkdS9zY2hvb2w/aWQ9MTA4MTcmYW1wO3Ryaz1lZHUtdXAtbmF2LW1lbnUtaG9tZSIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSJMaW5rZWRpbiI+PGkgY2xhc3M9Imljb24tc29jaWFsIGxpbmtlZGluIj48L2k+PC9hPiAgIA0KICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgPC9kaXY+DQogICAgICA8L2Rpdj4NCiAgICA8L2Zvb3Rlcj48IS0tIC8ucGFnZS1mb290ZXIgLS0+ZGQnQ1lWXDAogSzhuBrhDhVe2F/JLym0gI2/wqM6Nq2O6A==",
            "__VIEWSTATEGENERATOR" : "97842539",
            "__ekFormId_ctl00_PageContent_FormBlock1" : "4156",
            "__ekFormState_ctl00_PageContent_FormBlock1" : "in",
            "ApplicationAPI4156" : "postback",
            "EktFormId" : "4156",
            "EktFormTitle" : "Mansbridge Summit application form",
            "EktFormDescription" : "",
            "EktFormLang" : "1033",
            "EktFormPublishDate" : "12/17/2014 1:45:03 PM",
            
            // User input fields
            "Name" : "",
            "E-mail" : "elmo10@gmail.com",
            "Gender" : "",
            "Major_minor" : "",
            "Grad_year" : "",
            "Hometown" : "",
            "Dietary_restrictions" : "",
            "Question1" : "",
            "Question2" : ""
        ]
    
    func testPOSTRequest() {
        
        func onSuccess() {
            XCTAssert(true)
        }
        func onFailure(err : NSError?) {

            XCTAssert(false)
        }
        
        postRequest(page, postData: self.minimalPostParameters, closure: postRequestCompletion, failureClosure: onFailure, successClosure: onSuccess)
    }

    func testRequestCompletion() {
        
        func pass1() { XCTAssert(true) }
        func pass2() { XCTAssert(false) }
        func fail1(err : NSError?) { XCTAssert(false) }
        func fail2(err : NSError?) { XCTAssert(true) }

        let anError = NSError(domain: "An Error", code: 666, userInfo: nil )

        // Only this test should pass
        let response0 = "Thank you </strong>for filling out the Mansbridge Summit application form".dataUsingEncoding(NSUTF8StringEncoding)
        postRequestCompletion(response0, err: nil, failureClosure: fail1, successClosure: pass1)
        
        
        let response1 : NSData? = nil
        postRequestCompletion(response1, err: nil, failureClosure: fail2, successClosure: pass2)

        let response2 = "Thank you </strong>for filling out the Mansbridge Summit application form".dataUsingEncoding(NSUTF8StringEncoding)
        postRequestCompletion(response2, err: anError, failureClosure: fail2, successClosure: pass2)
        
        let response3 = "<html><head><title>Bad response</title></head></html>".dataUsingEncoding(NSUTF8StringEncoding)
        postRequestCompletion(response3, err: nil, failureClosure: fail2, successClosure: pass2)

        let response4 = "<html><head><title>Bad response</title></head></html>".dataUsingEncoding(NSUTF8StringEncoding)
        postRequestCompletion(response4, err: anError, failureClosure: fail2, successClosure: pass2)

        let response5 : NSData? = nil
        postRequestCompletion(response5, err: anError, failureClosure: fail2, successClosure: pass2)
        
    }
    
    func testPerformanceExample() {
        
        // This is an example of a performance test case.
        self.measureBlock {
            // Put the code you want to measure the time of here.
            postRequest(page, postData: self.minimalPostParameters, closure: postRequestCompletion, failureClosure: onRegisterFailure, successClosure: onRegisterSuccess)
        }
        
    }

}















